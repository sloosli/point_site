{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}


{% block app_content %}

{% if form %}
<div class="well bs-component">
    <a class="btn btn-primary" role="button" data-toggle="collapse" href="#collapseForm" aria-expanded="false"
       aria-controls="collapseForm">
        Добавление
    </a>
    <p></p>
    <div class="collapse" id="collapseForm">
            <form action="" method="post" class="form" role="form">
            {% include '_form.html' %}
            </form>
            <p></p>
            <form action="{{ url_for('students.multiple_add') }}" method="post" class="form" role="form">
                <div class="form-group required">
                    <label class="control-label" for="id_list">Список id</label>
                    <textarea class="form-control" id="id_list" name="id_list" required rows="10"></textarea>
                </div>
                <input class="btn btn-default" id="submit_multiple" name="submit" type="submit" value="Добавить несколько">
            </form>
    </div>
</div>
<p></p>
<div class="well bs-component">
    <form action="" method="post" class="form" role="form">
        <div class="form-group">
            <input class="form-control" placeholder="Имя" id="first_name" name="first_name" type="text" value="">
        </div>
        <div class="form-group">
            <input class="form-control" placeholder="Фамилия" id="last_name" name="last_name" type="text" value="">
        </div>
        <div class="form-group">
            <input class="form-control" placeholder="ID Вконтакте" id="_id" name="_id" type="text" value="">
        </div>
        <input class="btn btn-default" id="search" name="search" type="submit" value="Поиск">
        <a href="{{ url_for('students.list') }}"><input class="btn btn-default" type="submit" value="Сбросить"></a>
    </form>
</div>
<p></p>
{% endif %}
{% if data.items %}
<div class="row">
    {% for something in data.items %}
    {{ something.to_html() }}
    {% endfor %}
</div>

<!-- Секция навигации-->
{% if data.pages > 1 %}
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        {% if data.page > 2 %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=1) }}">В начало</a>
        </li>
        {% if data.page > 3 %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true">...</a>
        </li>
        {% endif %}
        {% endif %}
        {% if data.has_prev %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.prev_num) }}">{{ data.prev_num }}</a>
        </li>
        {% endif %}
        <li class="page-item active">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.page) }}">{{ data.page }}</a>
        </li>
        {% if data.has_next %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.next_num) }}">{{ data.next_num }}</a>
        </li>
        {% endif %}
        {% if data.pages - data.page > 1 %}
        {% if data.pages - data.page > 2 %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true">...</a>
        </li>
        {% endif %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.total) }}">В конец</a>
        </li>
        {% endif %}
    </ul>
</nav>
{% endif %}
{% else %}
<h3>Упс, ничего не найдено...</h3>
<p></p>
<a href="{{ url_for('students.list') }}"><h4>Назад</h4></a>
{% endif %}
{% endblock %}