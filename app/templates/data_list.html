{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}


{% block app_content %}

{% if form %}
<div class="well bs-component">
    <a class="btn btn-primary" role="button" data-toggle="collapse" href="#collapseForm" aria-expanded="false"
       aria-controls="collapseForm">
        Добавление
    </a>
    <p></p>
    <div class="collapse" id="collapseForm">
        <form action="" method="post" class="form" role="form">
            {% include '_form.html' %}
        </form>
    </div>
</div>
<p></p>
{% endif %}
{% if data %}
<div class="row">
    {% for something in data.items %}
    {{ something.to_html() }}
    {% endfor %}
</div>
<!-- Секция навигации-->
{% if data.pages > 1 %}
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        {% if data.page > 2 %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=1) }}">В начало</a>
        </li>
        {% if data.page > 3 %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true">...</a>
        </li>
        {% endif %}
        {% endif %}
        {% if data.has_prev %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.prev_num) }}">{{ data.prev_num }}</a>
        </li>
        {% endif %}
        <li class="page-item active">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.page) }}">{{ data.page }}</a>
        </li>
        {% if data.has_next %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.next_num) }}">{{ data.next_num }}</a>
        </li>
        {% endif %}
        {% if data.pages - data.page > 1 %}
        {% if data.pages - data.page > 2 %}
        <li class="page-item disabled">
            <a class="page-link" tabindex="-1" aria-disabled="true">...</a>
        </li>
        {% endif %}
        <li class="page-item">
            <a class="page-link" href="{{ url_for(g.url_for, page=data.total) }}">В конец</a>
        </li>
        {% endif %}
    </ul>
</nav>
{% endif %}
{% endif %}
{% endblock %}